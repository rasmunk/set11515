/* MethaneMonitor_i
 * Author: Kevin
 * Creation date: 03/11/2015
 */

IMPLEMENTATION MethaneMonitor_i
REFINES MethaneMonitor
CONCRETE_VARIABLES
    last_state
INVARIANT
    last_state : METHANE_LEVEL
INITIALISATION
    last_state := methane_high
OPERATIONS
    ss <-- get_methane_level =
        BEGIN
            IF last_state = methane_high
            THEN last_state := methane_low
            ELSE last_state := methane_high
            END;
            ss := last_state
        END

 END